<% if flash[:error] %>
	<div class="alert alert-error"><%= flash[:error] %></div>
<% elsif flash[:warning] %>
	<div class="alert"><%= flash[:warning] %></div>
<% end %>
<% unless @history_data.nil? %>
	<% @history_data.each do |symbol, data| %>
		<p><%= symbol %></p>
		<table class="table">
		<% data.reverse.each_with_index do |row, index| %>
			<% if index == 0 %>
			<tr>
				<% row.each_key do |key| %>
					<th>
						<%= key %>
					</th>
				<% end %>
				<% unless @indicator_data.nil? %>

					<% if @indicator_name.is_a?(Array) %>
						<% @indicator_name.each do |name| %>
							<th>
								<%= name %>
							</th>
						<% end %>
					<% else %>
						<th>
							<%= @indicator_name %>
						</th>
					<% end %>

				<% end %>
			<% end %>
			</tr>
			<tr>
				<% row.each do |column, value| %>
					<td>
						<%= value %>
					</td>
				<% end %>
				<% unless @indicator_data.nil? %>

					<% if @indicator_data[symbol][index].is_a?(Array) %>
							<% @indicator_data[symbol][index].each do |data| %>
								<td>
									<%= data.round(3) unless data.nil? %>
								</td>
							<% end %>
					<% else %>
							<td>
								<!-- Got to find out this problem. -->
								<%= @indicator_data[symbol][index].round(3) unless @indicator_data[symbol][index].nil? %>
							</td>
					<% end %>

				<% end %>
			</tr>
		<% end %>
		</table>
	<% end %>
<% end %>
<%= debug(params) if Rails.env.development? %>